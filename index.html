<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é˜¿æ¶›å•†å®¶è®¡ç®—å™¨</title>
<style>
  body {
    background:#e6f6ea;
    font-family: Arial, sans-serif;
  }
  .box {
    max-width:360px;
    margin:20px auto;
    padding:15px;
  }
  h3,h4 {
    text-align:center;
    margin:15px 0;
  }
  .row {
    display:flex;
    gap:8px;
    margin-bottom:10px;
  }
  input,select {
    flex:1;
    padding:12px;
    font-size:16px;
    border-radius:10px;
    border:1px solid #ccc;
  }
  button {
    width:100%;
    padding:14px;
    font-size:16px;
    border:none;
    border-radius:12px;
    background:#34c76a;
    color:#fff;
    margin-top:6px;
  }
  .label {
    font-size:14px;
    margin:10px 0 4px;
  }
  .card {
    background:#fff;
    padding:14px;
    border-radius:12px;
    margin-top:8px;
    font-size:16px;
    text-align:center;
  }
  .profit-good { color:#1e9c4b; font-weight:bold; }
  .profit-bad  { color:#d63031; font-weight:bold; }
  .quick button {
    flex:1;
    background:#ddd;
    color:#000;
    margin-top:0;
  }
</style>
</head>
<body>

<div class="box">

<!-- ========== ä¸Šé¢ï¼šå•ç¬”å…‘æ¢ ========== -->
<h3>é˜¿æ¶›ä¸“å±è®¡ç®—å™¨</h3>

<div class="row">
  <input type="number" id="a_amount" placeholder="è¾“å…¥æ•°é‡">
  <select id="a_from">
    <option value="USDT">USDT</option>
    <option value="MMK">MMK</option>
  </select>
</div>

<div class="row">
  <input type="number" id="a_result" placeholder="ç»“æœ" readonly>
  <select id="a_to">
    <option value="MMK">MMK</option>
    <option value="USDT">USDT</option>
  </select>
</div>

<input type="number" id="a_rate" placeholder="è¾“å…¥æ±‡ç‡">
<button onclick="calcExchange()">ç¡®å®š</button>

<!-- ========== ä¸‹é¢ï¼šå•†å®¶åˆ©æ¶¦ ========== -->
<h4>å½“æ—¥æ±‡ç‡ï¼ˆå•†å®¶ï¼‰</h4>

<div class="label">MMK â†’ USDTï¼ˆå– USDT ä»·æ ¼ï¼‰</div>
<input type="number" id="sellRate" placeholder="ä¾‹å¦‚ 4350">

<div class="label">USDT â†’ MMKï¼ˆä¹° USDT ä»·æ ¼ï¼‰</div>
<input type="number" id="buyRate" placeholder="ä¾‹å¦‚ 3400">

<h4>USDT æ•°é‡</h4>
<input type="number" id="profitAmount" value="100">

<div class="row quick">
  <button onclick="setAmount(50)">50</button>
  <button onclick="setAmount(100)">100</button>
  <button onclick="setAmount(500)">500</button>
</div>

<button onclick="lockRate()">ğŸ”’ é”å®š / è§£é” æ±‡ç‡</button>

<h4>æˆ‘çš„åˆ©æ¶¦</h4>
<div class="card" id="profit">0</div>

</div>

<script>
// ---------- ä¸Šé¢ï¼šå•ç¬”å…‘æ¢ ----------
function calcExchange() {
  let amount = parseFloat(a_amount.value);
  let rate = parseFloat(a_rate.value);
  let from = a_from.value;
  let to = a_to.value;
  if (!amount || !rate) return;

  let res = 0;
  if (from === "USDT" && to === "MMK") res = amount * rate;
  if (from === "MMK" && to === "USDT") res = amount / rate;

  a_result.value = res.toFixed(2);
}

// ---------- ä¸‹é¢ï¼šå•†å®¶åˆ©æ¶¦ ----------
sellRate.addEventListener("input", calcProfit);
buyRate.addEventListener("input", calcProfit);
profitAmount.addEventListener("input", calcProfit);

function calcProfit() {
  let sell = parseFloat(sellRate.value);
  let buy  = parseFloat(buyRate.value);
  let amt  = parseFloat(profitAmount.value);
  if (!sell || !buy || !amt) return;

  let profitMMK = amt * (sell - buy);
  let profitUSDT = profitMMK / sell;

  let el = document.getElementById("profit");
  if (profitMMK > 0) {
    el.className = "card profit-good";
    el.innerHTML =
      "èµš " + profitMMK.toLocaleString() + " MMK<br>(" +
      profitUSDT.toFixed(4) + " USDT)";
  } else {
    el.className = "card profit-bad";
    el.innerHTML = "ä¸èµšé’± / äºæŸ";
  }
}

function setAmount(v){
  profitAmount.value = v;
  calcProfit();
}

let locked = false;
function lockRate(){
  locked = !locked;
  sellRate.disabled = locked;
  buyRate.disabled = locked;
}
</script>

</body>
</html>
